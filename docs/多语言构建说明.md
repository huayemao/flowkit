# Flowkit 自动语言检测说明

## 概述

Flowkit现在支持单一安装包自动检测系统语言，无需构建多个语言版本。

## 支持的语言

- **English (en)**: 默认语言
- **中文 (zh)**: 中文版本

## 语言检测机制

### 自动检测
应用启动时会自动检测系统语言：
- **Windows**: 通过PowerShell获取系统区域设置
- **macOS**: 通过defaults命令获取系统语言偏好
- **Linux**: 通过LANG环境变量检测

### 语言设置优先级
1. **用户手动设置**（保存在localStorage中）
2. **系统语言自动检测**
3. **默认英文**

## 构建方法

### 标准构建
构建单一版本，包含所有语言支持：
```bash
yarn tauri build
```

### 开发环境
```bash
# 开发模式
yarn dev
```

## 语言切换

用户可以在应用内手动切换语言：
1. 打开设置页面
2. 选择语言切换器
3. 选择English或中文
4. 语言设置会自动保存

## 文件结构

语言文件位于：
```
src/i18n/locales/
├── en/translation.json     # 英文翻译
└── zh/translation.json   # 中文翻译
```

## 故障排除

### 语言检测失败
- 检查系统语言设置是否正确
- 查看浏览器控制台是否有错误信息
- 手动通过语言切换器设置语言

### 翻译未生效
- 确认翻译文件存在且格式正确
- 清除localStorage中的`flowkit-language`值重新检测
- 检查网络连接（如果使用远程翻译）